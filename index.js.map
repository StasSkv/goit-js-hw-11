{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport function sendRequest(q) {\n  return axios\n    .get('', {\n      params: {\n        key: '48766292-dc6ec1cfa953245898524780f',\n        q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        showMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return [];\n      }\n      return response.data.hits;\n    })\n    .catch(error => {\n      showMessage('Sorry, an error occurred while loading');\n      return [];\n    });\n}\n","export function renderImages(images) {\n  const newList = images\n    .map(image => {\n      return `<li class=\"gallery-item\">\n       <a href=\"${image.largeImageURL}\" class=\"gallery-link\"> <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-img\" width=\"360\" height=\"152\"/></a>\n        <ul class=\"info-list\">\n          <li class=\"info-item\">\n            <h4 class=\"info-title\">Likes</h4>\n            <p class=\"info-text\">${image.likes}</p>\n          </li>\n          <li class=\"info-item\">\n            <h4 class=\"info-title\">Views</h4>\n            <p class=\"info-text\">${image.views}</p>\n          </li>\n          <li class=\"info-item\">\n            <h4 class=\"info-title\">Comments</h4>\n            <p class=\"info-text\">${image.comments}</p>\n          </li>\n          <li class=\"info-item\">\n            <h4 class=\"info-title\">Downloads</h4>\n            <p class=\"info-text\">${image.downloads}</p>\n          </li>\n        </ul>\n      </li>`;\n    })\n    .join('');\n  const list = document.querySelector('.gallery-list');\n  list.innerHTML = newList;\n//   lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { sendRequest } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst input = document.querySelector('#input');\nconst list = document.querySelector('.gallery-list');\n\nform.addEventListener('submit', submitForm);\ninput.addEventListener('focus', () => (input.style.borderColor = '#4e75ff'));\ninput.addEventListener('blur', () => (input.style.borderColor = ''));\n\nfunction submitForm(event) {\n  event.preventDefault();\n  const query = input.value.trim();\n  if (!query) {\n    showMessage('Please enter the text');\n    form.reset();\n  } else {\n    form.reset();\n    list.innerHTML = '';\n    sendRequest(query)\n      .then(images => renderImages(images))\n      .catch(() =>\n        showMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        )\n      );\n  }\n}\n\nfunction showMessage(message) {\n  iziToast.show({\n    message,\n    position: 'topRight',\n    iconUrl: './src/img/x.svg',\n    backgroundColor: '#ef4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    progressBarColor: '#b51b1b',\n    theme: 'dark',\n    displayMode: 2,\n    transitionIn: 'bounceInLeft',\n    transitionOut: 'fadeOutLeft',\n    maxWidth: \"400px\" ,\n  });\n}\n\nconst lightBox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  scrollZoom: false,\n});\n"],"names":["axios","sendRequest","q","response","error","renderImages","images","newList","image","list","form","input","submitForm","event","query","showMessage","message","iziToast","SimpleLightbox"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAElB,SAASC,EAAYC,EAAG,CAC7B,OAAOF,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,IAAK,qCACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKC,GACAA,EAAS,KAAK,KAAK,SAAW,GAChC,YACE,0EACV,EACe,IAEFA,EAAS,KAAK,IACtB,EACA,MAAMC,IACL,YAAY,wCAAwC,EAC7C,GACR,CACL,CC5BO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAUD,EACb,IAAIE,GACI;AAAA,kBACKA,EAAM,aAAa,qCAAqCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,mCAI7EA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAI7C,EACA,KAAK,EAAE,EACJC,EAAO,SAAS,cAAc,eAAe,EACnDA,EAAK,UAAYF,CAEnB,CCrBA,MAAMG,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAQ,SAAS,cAAc,QAAQ,EACvCF,EAAO,SAAS,cAAc,eAAe,EAEnDC,EAAK,iBAAiB,SAAUE,CAAU,EAC1CD,EAAM,iBAAiB,QAAS,IAAOA,EAAM,MAAM,YAAc,SAAU,EAC3EA,EAAM,iBAAiB,OAAQ,IAAOA,EAAM,MAAM,YAAc,EAAG,EAEnE,SAASC,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAQH,EAAM,MAAM,KAAI,EACzBG,GAIHJ,EAAK,MAAK,EACVD,EAAK,UAAY,GACjBR,EAAYa,CAAK,EACd,KAAKR,GAAUD,EAAaC,CAAM,CAAC,EACnC,MAAM,IACLS,EACE,0EACD,CACT,IAXIA,EAAY,uBAAuB,EACnCL,EAAK,MAAK,EAYd,CAEA,SAASK,EAAYC,EAAS,CAC5BC,EAAS,KAAK,CACZ,QAAAD,EACA,SAAU,WACV,QAAS,kBACT,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,iBAAkB,UAClB,MAAO,OACP,YAAa,EACb,aAAc,eACd,cAAe,cACf,SAAU,OACd,CAAG,CACH,CAEiB,IAAIE,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,IACd,WAAY,EACd,CAAC"}